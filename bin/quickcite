#!/usr/bin/env ruby

require "rubygems"
require "bundler/setup"
require "quickcite"

flags = {}
optparse = OptionParser.new do|opts|
 opts.banner = "Usage: quickrite -b <bibtex file> latex1 latex2 ... "

 flags[:bibtex] = nil
 opts.on( "-b", "--bibtex FILE", "Extract/generate references to FILE" ) do|file|
   flags[:bibtex] = file
 end
end

optparse.parse!

if flags[:bibtex] == nil then
  puts "Bibtex file must be specified (-b paper.bib)"
  exit 1
elsif ARGV.length == 0 then
  puts "No latex files specified."
  exit 1
end

QuickCite::run(ARGV, flags[:bibtex])
